(()=>{var e,t={8811:e=>{e.exports={publicPath:"/service/schema-to-code/",webpack:{enableESLint:!1,port:5555}}},1299:(e,t,n)=>{"use strict";var r=n(7294),a=n(3935),c=n(5861),o=n(9439),i=n(7757),u=n.n(i),l=n(1949),s=n(1096),f=n(2109),p=n(8222),m=n(5007),v=n(8811),h=n.n(v);function b(e){var t=e.value,n=e.onChange;return r.createElement("div",null,r.createElement(m.ZP,{width:"100%",height:"calc(100vh - 30px)",language:"json",theme:"vs-dark",value:t,onChange:function(e){return n(e)},options:{formatOnType:!0,formatOnPaste:!0,autoIndent:!0,minimap:{enabled:!1}}}))}function d(e){var t=e.value,n=e.onChange,a=(0,r.useRef)();return(0,r.useEffect)((function(){a.current&&(a.current.getAction("editor.action.formatDocument").run(),setTimeout((function(){a.current.setScrollTop(0)})))}),[t]),r.createElement("div",null,r.createElement(m.ZP,{width:"100%",height:"calc(100vh - 30px)",language:"javascript",theme:"vs-dark",value:t,onChange:function(e){return n(e)},onMount:function(e){a.current=e},options:{formatOnType:!0,formatOnPaste:!0,autoIndent:!0,minimap:{enabled:!1}}}))}m._m.config({paths:{vs:h().publicPath+"monaco-editor/min/vs"}}),m._m.config({paths:{vs:h().publicPath+"monaco-editor/min/vs"}});var g=n(4942);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){var t=e.schema,n=function(e){var t=[];return Object.keys(e).map((function(n){t.push("".concat(n,"={").concat(r(e[n]),"}"))})),t.join(" ")},r=function(e){return JSON.stringify(e).replace(/([\{])\"/g,"$1").replace(/\"([\:])/g,"$1").replace(/([\,])\"/g,"$1")},a=function(e){e.options||(e.options=[]);var t=u(e);return"<Select".concat(c(t.join(" ")),">\n            ").concat(e.options.map((function(e){return"<Select.Option key={'".concat(e.key,"'}>").concat(e.label,"</Select.Option>")})),"\n        </Select>")},c=function(e){return e?" "+e:""},o=function(e){var t="";switch(e){case"input":case"textarea":t="Input";break;case"button":t="Button";break;case"switch":t="Switch";break;case"select":t="Select"}return t},i=function(e){var t="";switch(e){case"input":t="Input";break;case"textarea":t="Input.TextArea";break;case"button":t="Button";break;case"switch":t="Switch";break;case"select":t="Select"}return t},u=function(e){if(!e.attributes)return[];var t=[];return Object.keys(e.attributes).map((function(n){var r=e.attributes[n];t.push("".concat(n,"=").concat("string"==typeof r?"'".concat(r,"'"):r))})),t};return function(){var e,l,s,f,p,m={Form:!0};null==t||null===(e=t.fields)||void 0===e||e.map((function(e){var t=o(e.tag);m[t]=!0})),null==t||null===(l=t.actions)||void 0===l||l.map((function(e){var t=o(e.tag);m[t]=!0}));var v,h,b,d,O,j,k=(v=Object.keys(m),"import React from 'react';\n        import { ".concat(v.join(", ")," } from 'antd';")),w=function(e){var t="";return e.map((function(e){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,g.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({key:"",label:"",tag:""},e),o=i(n.tag),l="{}",s="Switch"===o?"valuePropName:'checked'":"",f=n.rules||[];if(n.required){var p={required:!0};n.requiredMessage&&(p.message=n.requiredMessage),f.push(p)}var m,v=f.length>0?"rules:"+function(e){var t="[";return e.map((function(e){t+="\n".concat(r(e),",")})),t+"\n]"}(f):"",h=[];if(s&&h.push(s),v&&h.push(v),h.length>0&&(l="{\n".concat(h.join(", "),"\n}")),"Select"===o)m=a(n);else{var b=u(n);m="<".concat(o).concat(c(b)," />")}var d="<Form.Item label='".concat(n.label,"'>\n                {getFieldDecorator('").concat(n.key,"', ").concat(l,")(\n                    ").concat(m,"\n                )}\n            </Form.Item>\n            ");t+=d})),t}(t.fields||[]),S=(h=t.actions||[],b=(null==t||null===(s=t.meta)||void 0===s?void 0:s.layout)||{},O="",h.map((function(e,t){var n=i(e.tag),r=[];e.submit&&r.push("onClick={handleSubmit}"),O+="<".concat(n).concat(c(r.join(" ")),">").concat(e.text,"</").concat(n,">"),t!==h.length-1&&(O+="\n")})),b.labelCol&&(d=n({wrapperCol:{offset:b.labelCol.span}})),"<Form.Item".concat(c(d),">\n                ").concat(O,"\n            </Form.Item>")),P="export default Form.create()(".concat((null==t||null===(j=t.meta)||void 0===j?void 0:j.name)||"Page",");"),E=n((null==t||null===(f=t.meta)||void 0===f?void 0:f.layout)||{});return"".concat(k,"\n        \n        const ").concat((null==t||null===(p=t.meta)||void 0===p?void 0:p.name)||"Page"," = ({ form }) => {\n            const { getFieldDecorator } = form;\n\n            const handleSubmit = e => {\n                e.preventDefault();\n                form.validateFields((err, values) => {\n                  if (!err) {\n                    console.log('Received values of form: ', values);\n                  }\n                });\n            };\n\n            return (\n                <Form").concat(c(E),">\n                    ").concat(w,"\n                    ").concat(S,"\n                </Form>\n            )\n        }\n\n        ").concat(P,"\n        ")}}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){var t=e.schema,n=function(e){var t=[];return Object.keys(e).map((function(n){t.push("".concat(n,"={").concat(r(e[n]),"}"))})),t.join(" ")},r=function(e){return JSON.stringify(e).replace(/([\{])\"/g,"$1").replace(/\"([\:])/g,"$1").replace(/([\,])\"/g,"$1").replaceAll('"/',"/").replaceAll('/"',"/")},a=function(e){e.options||(e.options=[]);var t=u(e);return"<Select".concat(c(t.join(" ")),">\n            ").concat(e.options.map((function(e){return"<Select.Option key={'".concat(e.key,"'}>").concat(e.label,"</Select.Option>")})),"\n        </Select>")},c=function(e){return e?" "+e:""},o=function(e){var t="";switch(e){case"input":case"textarea":t="Input";break;case"button":t="Button";break;case"switch":t="Switch";break;case"select":t="Select"}return t},i=function(e){var t="";switch(e){case"input":t="Input";break;case"textarea":t="Input.TextArea";break;case"button":t="Button";break;case"switch":t="Switch";break;case"select":t="Select"}return t},u=function(e){if(!e.attributes)return[];var t=[];return Object.keys(e.attributes).map((function(n){var r=e.attributes[n];t.push("".concat(n,"=").concat("string"==typeof r?"'".concat(r,"'"):r))})),t};return function(){var e,l,s,f,p,m={Form:!0};null==t||null===(e=t.fields)||void 0===e||e.map((function(e){var t=o(e.tag);m[t]=!0})),null==t||null===(l=t.actions)||void 0===l||l.map((function(e){var t=o(e.tag);m[t]=!0}));var v,h,b,d,y,O,k=(v=Object.keys(m),"import React from 'react';\n        import { ".concat(v.join(", ")," } from 'antd';")),w=function(e){var t="";return e.map((function(e){var n,o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){(0,g.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({key:"",label:"",tag:""},e),l=i(o.tag),s=o.rules||[];if(o.required){var f={required:!0};o.requiredMessage&&(f.message=o.requiredMessage),s.push(f)}if("Select"===l)n=a(o);else{var p=u(o);n="<".concat(l).concat(c(p)," />")}var m=["label='".concat(o.label,"'"),"name='".concat(o.key,"'")];s.length&&m.push("rules={".concat(function(e){if(0===e.length)return"[]";var t="[";return e.map((function(e){t+="\n".concat(r(e),",")})),t+"\n]"}(s),"}")),"Switch"===l&&(m.push('valuePropName="checked"'),m.push("initialValue={false}"));var v="<Form.Item".concat(function(e){if(0===e.length)return"";var t="";return e.map((function(e){t+="\n".concat(e)})),t}(m),">\n               ").concat(n,"\n            </Form.Item>\n            ");t+=v})),t}(t.fields||[]),S=(h=t.actions||[],b=(null==t||null===(s=t.meta)||void 0===s?void 0:s.layout)||{},y="",h.map((function(e,t){var n=i(e.tag),r=[];e.submit&&r.push('htmlType="submit"'),y+="<".concat(n).concat(c(r.join(" ")),">").concat(e.text,"</").concat(n,">"),t!==h.length-1&&(y+="\n")})),b.labelCol&&(d=n({wrapperCol:{offset:b.labelCol.span}})),"<Form.Item".concat(c(d),">\n                ").concat(y,"\n            </Form.Item>")),P="export default ".concat((null==t||null===(O=t.meta)||void 0===O?void 0:O.name)||"Page",";"),E=n((null==t||null===(f=t.meta)||void 0===f?void 0:f.layout)||{});return"".concat(k,"\n        \n        const ").concat((null==t||null===(p=t.meta)||void 0===p?void 0:p.name)||"Page"," = () => {\n            const [form] = Form.useForm();\n\n            const onFinish = (values) => {\n                console.log(values);\n            };\n\n            return (\n                <Form form={form}").concat(c(E)," onFinish={onFinish}>\n                    ").concat(w,"\n                    ").concat(S,"\n                </Form>\n            )\n        }\n\n        ").concat(P,"\n        ")}}const w=function(){var e=(0,r.useState)(),t=(0,o.Z)(e,2),n=t[0],a=t[1],i=(0,r.useState)(""),m=(0,o.Z)(i,2),v=m[0],h=m[1],g=(0,r.useState)(""),y=(0,o.Z)(g,2),j=y[0],w=y[1],S=(0,r.useState)("4"),P=(0,o.Z)(S,2),E=P[0],x=P[1],F=function(){var e=(0,c.Z)(u().mark((function e(t){var n,r,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.files[0],e.next=3,n.text();case 3:r=e.sent;try{h(r),c=JSON.parse(r),a(c)}catch(e){l.ZP.error("格式错误")}case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,r.useEffect)((function(){if(n){var e="3"===E?O({schema:n}):k({schema:n});w(e)}}),[n]),r.createElement("div",null,r.createElement("div",null,r.createElement("input",{accept:".json",type:"file",onChange:F}),r.createElement(s.Z,{overlay:r.createElement(f.Z,{onClick:function(e){var t=e.key;x(t)}},r.createElement(f.Z.Item,{key:"3"},"3"),r.createElement(f.Z.Item,{key:"4"},"4"))},r.createElement(p.Z,null,"ANTD Version: ",E))),r.createElement("div",{style:{display:"flex",flexDirection:"row",border:"1px solid #CCC"}},r.createElement("div",{style:{flex:1}},r.createElement(b,{value:v,onChange:function(e){h(e);try{var t=JSON.parse(e);a(t)}catch(e){}}})),r.createElement("div",{style:{flex:1}},r.createElement(d,{value:j,onChange:function(e){w(e)}}))))},S=function(){return r.createElement("div",null,r.createElement(w,null))};n(7983),a.render(r.createElement(S,null),document.querySelector("#root"))}},n={};function r(e){var a=n[e];if(void 0!==a)return a.exports;var c=n[e]={id:e,loaded:!1,exports:{}};return t[e](c,c.exports,r),c.loaded=!0,c.exports}r.m=t,e=[],r.O=(t,n,a,c)=>{if(!n){var o=1/0;for(s=0;s<e.length;s++){for(var[n,a,c]=e[s],i=!0,u=0;u<n.length;u++)(!1&c||o>=c)&&Object.keys(r.O).every((e=>r.O[e](n[u])))?n.splice(u--,1):(i=!1,c<o&&(o=c));if(i){e.splice(s--,1);var l=a();void 0!==l&&(t=l)}}return t}c=c||0;for(var s=e.length;s>0&&e[s-1][2]>c;s--)e[s]=e[s-1];e[s]=[n,a,c]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={179:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var a,c,[o,i,u]=n,l=0;if(o.some((t=>0!==e[t]))){for(a in i)r.o(i,a)&&(r.m[a]=i[a]);if(u)var s=u(r)}for(t&&t(n);l<o.length;l++)c=o[l],r.o(e,c)&&e[c]&&e[c][0](),e[o[l]]=0;return r.O(s)},n=self.webpackChunk=self.webpackChunk||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var a=r.O(void 0,[889],(()=>r(1299)));a=r.O(a)})();